# DayTrade Pro AI - 專業當沖智能分析系統

⚡ **精準交易，智勝市場**

一個基於人工智慧的專業台股當沖交易篩選與分析系統，整合了專業交易員手冊的策略知識、多層風險管理機制，以及OpenAI GPT-4智能分析能力。專為當沖交易者打造的AI智能助手。

## 🎯 系統特色

### 💡 AI驅動分析
- **OpenAI GPT-4整合**: 運用最先進的語言模型進行深度股票分析
- **專業交易策略**: 基於實戰交易員手冊的三大核心策略
- **智能報告生成**: 自動產生專業級的交易分析報告

### 🛡️ 多層風險控制
- **流動性風險評估**: 成交量、買賣價差、市場深度分析
- **市場風險管理**: 波動性、技術指標極端值、環境風險
- **資金配置優化**: 多種倉位計算方法，動態風險調整
- **AI模型風險**: 模型不確定性評估與人工複核建議

### 📊 專業分析引擎
- **三柱分析框架**: 流動性、波動性、動能綜合評估
- **策略識別系統**: 順勢、逆勢、突破策略自動選擇
- **技術指標整合**: RSI、MACD、KD、ATR等關鍵指標
- **即時市場數據**: Yahoo Finance API數據源

### 🖥️ 直覺用戶界面
- **Streamlit網頁應用**: 現代化、響應式設計
- **互動式圖表**: Plotly視覺化分析結果
- **一鍵式分析**: 簡化操作流程，專注交易決策
- **多格式導出**: JSON、Markdown報告格式

## 🏗️ 系統架構

```
taiwan_daytrading_ai/
├── src/
│   ├── models/           # 數據模型
│   │   └── stock_data.py
│   ├── data/            # 數據提供者
│   │   └── taiwan_market_data.py
│   ├── core/            # 核心分析引擎
│   │   ├── liquidity_analyzer.py
│   │   ├── volatility_analyzer.py
│   │   └── momentum_analyzer.py
│   ├── strategies/      # 交易策略
│   │   ├── strategy_identifier.py
│   │   ├── trend_following.py
│   │   ├── counter_trend.py
│   │   └── breakout_strategy.py
│   ├── risk/           # 風險管理
│   │   ├── risk_manager.py
│   │   └── fund_allocator.py
│   └── ai/             # AI分析
│       ├── stock_analyzer.py
│       └── report_generator.py
├── app.py              # Streamlit主應用
├── requirements.txt    # 依賴套件
└── README.md          # 說明文件
```

## 🚀 快速開始

### 環境需求
- Python 3.8+
- OpenAI API Key

### 安裝步驟

1. **克隆專案**
```bash
git clone <repository-url>
cd taiwan_daytrading_ai
```

2. **安裝依賴**
```bash
pip install -r requirements.txt
```

3. **啟動應用**
```bash
streamlit run app.py
```

4. **設定API Key**
在側邊欄輸入您的OpenAI API Key

### 使用範例

1. **股票分析**
   - 在股票分析頁籤輸入股票代號（如：2330, 2454, 2317）
   - 選擇分析深度和最大分析數量
   - 點擊「開始AI分析」

2. **查看報告**
   - 切換到分析報告頁籤
   - 檢視執行摘要、關鍵洞察、風險警示
   - 導出JSON或Markdown格式報告

3. **倉位管理**
   - 在倉位管理頁籤查看推薦配置
   - 選擇倉位計算方法
   - 檢視建議權重和投入金額

## 📈 核心功能詳解

### 三大交易策略

#### 1. 順勢交易 (Trend Following)
- **理念**: "趨勢是你的朋友"
- **適用**: 明確單邊趨勢、持續動能確認
- **指標**: 均線排列、MACD黃金交叉、成交量配合
- **風險**: 假突破、趨勢反轉

#### 2. 逆勢交易 (Counter Trend)
- **理念**: "均值回歸，漲多必跌"
- **適用**: 價格過度延伸、技術指標背離
- **指標**: RSI超買超賣、價格偏離、關鍵位測試
- **風險**: 趨勢持續、抄底失敗

#### 3. 突破交易 (Breakout)
- **理念**: "蓄勢待發，一觸即發"
- **適用**: 整理格局、關鍵位測試、量能蓄積
- **指標**: 壓縮波動性、成交量爆發、型態突破
- **風險**: 假突破、量能不足

### 風險管理機制

#### 多層風險評估
- **個股風險**: 流動性、波動性、基本面
- **策略風險**: 策略適用性、執行可行性
- **市場風險**: 整體環境、時段特性
- **AI風險**: 模型不確定性、數據品質

#### 資金配置方法
- **固定百分比**: 簡單易懂的等權重配置
- **ATR風險調整**: 基於平均真實波幅的動態調整
- **波動率目標**: 追求組合波動率穩定
- **Kelly公式**: 基於勝率和賠率的最優配置
- **等風險分配**: 每筆交易承擔相同風險

## 🔧 系統配置

### 風險參數
```python
# 預設風險控制參數
MAX_SINGLE_TRADE_RISK = 2%      # 單筆最大風險
MAX_DAILY_RISK = 6%             # 單日最大風險
MAX_SECTOR_RISK = 15%           # 單一行業最大風險
MAX_SINGLE_POSITION = 15%       # 單一持股上限
```

### AI分析參數
```python
# AI模型設定
MODEL = "gpt-4"                 # OpenAI模型版本
TEMPERATURE = 0.1               # 分析客觀性
MAX_TOKENS = 2000               # 回應長度限制
CONFIDENCE_THRESHOLD = 0.75     # 信心度閾值
```

## 📊 分析指標說明

### 技術指標
- **RSI**: 相對強弱指標，判斷超買超賣
- **MACD**: 指數平滑移動平均收斂發散，趨勢動能
- **KD**: 隨機指標，短期動能
- **ATR**: 平均真實波幅，波動性測量
- **移動平均**: MA5/20/60，趨勢方向

### 評分機制
- **流動性評分** (0-100): 成交量、價差、深度
- **波動性評分** (0-100): ATR、日波幅、變化趨勢
- **動能評分** (0-100): 技術動能、基本面催化劑
- **策略評分** (0-100): 策略適用性綜合評估
- **綜合評分** (0-100): 加權平均最終分數

## ⚠️ 風險聲明

### 投資風險
- **本系統僅供參考，不構成投資建議**
- **投資有風險，入市需謹慎**
- **過去績效不代表未來表現**
- **請根據個人風險承受能力決定投資策略**

### AI模型限制
- **AI分析存在不確定性，可能產生錯誤判斷**
- **市場極端情況下，模型準確性可能下降**
- **建議結合人工分析，不應完全依賴AI建議**
- **使用API會產生費用，請注意成本控制**

### 技術風險
- **數據延遲或錯誤可能影響分析結果**
- **網路連接問題可能中斷服務**
- **系統故障時請停止交易決策**

## 🧪 測試驗證

### 執行測試
```bash
# 運行完整測試套件
python test_system.py

# 運行簡化測試
python simple_test.py
```

### 測試覆蓋
- **數據模型測試**: 股價、技術指標、市場數據
- **分析器測試**: 流動性、波動性、動能分析
- **策略測試**: 三大策略識別與評估
- **風險管理測試**: 風險評估、資金配置
- **整合測試**: 完整分析流程驗證
- **性能測試**: 批量處理效能測試

## 📞 技術支援

### 常見問題
1. **API Key錯誤**: 確認OpenAI API Key有效性和額度
2. **數據獲取失敗**: 檢查網路連接和股票代號正確性
3. **分析速度慢**: 降低併行分析數量或選擇較快的分析深度
4. **記憶體不足**: 減少批量分析的股票數量

### 系統要求
- **最低配置**: 4GB RAM, 1GB 可用空間
- **推薦配置**: 8GB RAM, 2GB 可用空間, 穩定網路
- **支援系統**: Windows 10+, macOS 10.14+, Ubuntu 18.04+

## 🔄 更新日誌

### v1.0.0 (2024-01-15)
- ✅ 完整系統架構實現
- ✅ 三大交易策略整合
- ✅ AI智能分析功能
- ✅ 多層風險管理機制
- ✅ Streamlit用戶界面
- ✅ 綜合測試驗證

## 📄 授權條款

本專案遵循 MIT 授權條款。詳細內容請參閱 LICENSE 文件。

## 🙏 致謝

感謝所有為台股市場分析和交易策略研究做出貢獻的專業人士，以及開源社群提供的優秀工具和函式庫。

---

**免責聲明**: 本系統僅供教育和研究目的使用。任何投資決策應基於個人判斷和專業建議。開發者不對使用本系統導致的任何投資損失承擔責任。